<!DOCTYPE html>
<html>
<head>
    <title>Firebase Auth Debug</title>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
</head>
<body>
    <h1>Firebase Auth Debug</h1>
    <button onclick="testAuth()">Test Firebase Connection</button>
    <button onclick="testSignUp()">Test Sign Up</button>
    <div id="output"></div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyBi_3rG4Kn31tvjsXl6kB_C2iYZhdOEuO0",
            authDomain: "soma-social.firebaseapp.com",
            projectId: "soma-social",
            storageBucket: "soma-social.firebasestorage.app",
            messagingSenderId: "44064741792",
            appId: "1:44064741792:web:232214570fc8bc58dcecc5",
            measurementId: "G-KS591CG0QZ"
        };

        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        function log(message) {
            document.getElementById('output').innerHTML += '<p>' + message + '</p>';
            console.log(message);
        }

        function testAuth() {
            log('Testing Firebase connection...');
            log('Auth object: ' + (auth ? 'OK' : 'FAILED'));
            log('DB object: ' + (db ? 'OK' : 'FAILED'));
        }

        async function testSignUp() {
            try {
                log('Testing sign up...');
                const result = await auth.createUserWithEmailAndPassword('test@example.com', 'password123');
                log('Sign up successful: ' + result.user.email);
            } catch (error) {
                log('Sign up error: ' + error.code + ' - ' + error.message);
            }
        }
    </script>
</body>
</html>
